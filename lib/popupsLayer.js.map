{"version":3,"sources":["../js/popupsLayer.js"],"names":["PopupsLayer","layer","title","content","after","UI","DEFAULT_CONFIG","position","style","background","borderRadius","maxWidth","enable","draggable","btnGroup","close","color","fontSize","borderBottom","config","objectDeepCopy","popupsLayer","document","createElement","classList","add","createLayer","createTitle","createContent","querySelectorAll","length","oldLayer","targetEle","nextElementSibling","body","insertBefore","firstElementChild","Function","_CONFIG_","_POSITION_","setAttribute","Object","entries","key","value","appendChild","hasOwnProperty","innerText","text","innerHTML","template","that","logic","icon","addEventListener","is","i","dragLayer","textBox","img","src","cssFloat","toLowerCase","p","temp","btn","fn","theme","isDrag","cursor","e","preventDefault","left","offsetLeft","movementX","top","offsetTop","movementY","removeChild","obj","retObj","keys","prototype","toString","call","JSON","stringify","_ui"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\n/**\r\n * 弹出层组件.\r\n *\r\n * @author Kafuu_Chino <japan_sakurayuki@qq.com>\r\n * @version 1.1.2\r\n */\r\n\r\n/**\r\n * 弹出层对象\r\n * @class\r\n * @since 1.0\r\n */\r\n\r\nclass PopupsLayer {\r\n    /**\r\n     * 配置并生成弹出层父元素.\r\n     * @constructor\r\n     *\r\n     * @param {Object} layer - 弹出层的外层盒子配置信息，目前有以下参数\r\n     * @todo @param type - 指定弹出层的类型\r\n     *\r\n     * @param {String<'LEFT' | 'RIGHT' | 'TOP' | 'BOTTOM' | 'CENTER'>} [layer.position = 'CENTER'] - 指定弹出层的位置.\r\n     *\r\n     * @param {Object} layer.style - 样式配置信息，你可以在这个对象中传递自定义的样式，命名规范遵从HTML DOM Style对象，有以下默认配置参数\r\n     * @param {String} [title.style.background = #ffffff] - 背景颜色.\r\n     * @param {String} [layer.style.borderRadius = 5px] - 指定圆角大小.\r\n     * @param {String} [layer.style.maxWidth = none] - 指定盒子最大宽度.\r\n     *\r\n     * @param {Object} title - 对标题栏的配置信息，目前有以下参数\r\n     * @todo @param {Object} icon - 标题栏加入一个图标.\r\n     * @param {Boolean} [title.enable = true] - 指定是否需要标题栏.\r\n     * @param {Boolean} [title.draggable = true] - 指定标题栏是否可以拖拽移动(内容窗口也将跟随移动).\r\n     * @param {String} title.text - 标题栏文字.\r\n     * @param {String} title.template - 你可能需要更灵活的方式控制标题栏，可以自己传入一个HTML模板加入标题栏.\r\n     *\r\n     * @param {Object} title.btnGroup - 指定标题栏右侧的按钮组，以下参数仅为样式中提供预设的一些按钮，你可以自己在样式写入自己喜欢的\r\n     *                                      按钮样式，并将样式名加入配置对象，仅支持class类名，不支持id.\r\n     * @param {Boolean} [title.btnGroup.enable = true] - 是否开启右侧按钮.\r\n     * @param {Boolean} [title.btnGroup.close = true] - 关闭按钮.\r\n     * @todo @param {Boolean} title.btnGroup.maximize - 最大化按钮.\r\n     *\r\n     * @param {Object} title.style - 样式配置信息，你可以在这个对象中传递自定义的样式，命名规范遵从HTML DOM Style对象，有以下默认配置参数\r\n     * @param {String} [title.style.color = #666666] - 标题栏字体颜色.\r\n     * @param {String} [title.style.fontSize = 14px] - 标题栏字体大小.\r\n     * @param {String} [title.style.borderBottom = '.4px solid rgba(75, 97, 124, 0.53)'] - 标题的下边框样式，取值同border-bottom\r\n     *\r\n     * @param {String} {Object} content - 对内容区域的配置信息，目前有以下参数\r\n     * @param {String} content.text - 指定要在内容区域显示的文本.\r\n     * @param {String} content.template - 你可能需要更灵活的方式控制内容，自己传入一个HTML模板加入弹出层，它会在文本下方展示.\r\n     *\r\n     * @param {Object} content.icon - 传入一个图标显示在内容区域，目前有以下参数\r\n     * @param {String} content.icon.src - 图标地址.\r\n     * @param {String<'LEFT' | 'RIGHT'>} [content.icon.position = 'LEFT'] - 指定图标在弹出层的文本左边还是右边.\r\n     *\r\n     * @param {Object} content.btnGroup - 指定按钮\r\n     * @param {Object} content.btnGroup.* - 自定义命名，此命名将成为按钮id属性名.\r\n     * @param {Object} content.btnGroup.*.text - 按钮内容文本.\r\n     * @param {Function} content.btnGroup.*.fn - 指定按钮点击事件函数.\r\n     * @param {String<ok | cancel>} content.btnGroup.*.theme - 使用样式表预设的按钮主题，此参数为主题类名，你也可以依据id属性名事先\r\n     *                                                          在样式表预设主题，但是请注意，这个参数只支持class类名.\r\n     *\r\n     * @param {Object} content.style - 样式配置信息，你可以在这个对象中传递自定义的样式，命名规范遵从HTML DOM Style对象，有以下默认配置参数\r\n     * @param {String} [content.style.color = #666666] - 内容区域字体颜色.\r\n     * @param {String} [content.style.fontSize = 14px] - 内容区域字体大小\r\n     *\r\n     * @param {Function} [after = null] - 指定生成弹出层后需要进行的操作.\r\n     *\r\n     * @since 1.0\r\n     */\r\n    constructor({layer, title, content, after = null}) {\r\n        /**\r\n         * 创建UI对象\r\n         * @class\r\n         * @since 1.1.2\r\n         */\r\n        class UI {\r\n            constructor({layer, title, content, after = null}) {\r\n                // 配置文件\r\n                const DEFAULT_CONFIG = {\r\n                    layer: {\r\n                        position: 'CENTER',\r\n                        style: {\r\n                            background: '#ffffff',\r\n                            borderRadius: '5px',\r\n                            maxWidth: 'none'\r\n                        }\r\n                    },\r\n                    title: {\r\n                        enable: true,\r\n                        draggable: true,\r\n                        btnGroup: {\r\n                            enable: true,\r\n                            close: true\r\n                        },\r\n                        style: {\r\n                            color: '#666666',\r\n                            fontSize: '14px',\r\n                            borderBottom: '.4px solid rgba(75, 97, 124, 0.53)'\r\n                        }\r\n                    },\r\n                    content: {\r\n                        style: {\r\n                            color: '#666666',\r\n                            fontSize: '14px'\r\n                        }\r\n                    }\r\n                };\r\n                this.config = UI.objectDeepCopy(DEFAULT_CONFIG, {layer, title, content});\r\n                this.popupsLayer = document.createElement('div');\r\n                this.popupsLayer.classList.add('popups-layer');\r\n\r\n                this.createLayer();\r\n                if (this.config.title.enable)\r\n                    this.createTitle();\r\n                this.createContent();\r\n\r\n                if (document.querySelectorAll('.popups-layer').length) {\r\n                    let oldLayer = document.querySelectorAll('.popups-layer');\r\n                    let targetEle = oldLayer[oldLayer.length - 1].nextElementSibling;\r\n                    document.body.insertBefore(this.popupsLayer, targetEle);\r\n                } else {\r\n                    document.body.insertBefore(this.popupsLayer, document.body.firstElementChild);\r\n                }\r\n\r\n                if (after instanceof Function)\r\n                    after();\r\n            }\r\n\r\n            /**\r\n             * 深拷贝/合并方法，如果在retObj中存在obj中相同属性，则retObj属性保留，此方法会直接在retObj上进行操作\r\n             * @param {Object} obj - 进行深拷贝/合并的参考对象.\r\n             * @param {Object} [retObj = {}] - 进行深拷贝/合并的处理对象，未指定参数将会生成一个空对象.\r\n             * @return {Object} retObj - 返回深拷贝/合并后的处理对象.\r\n             * @since 1.1.2\r\n             */\r\n            static objectDeepCopy(obj, retObj = {}) {\r\n                let keys = Object.keys(obj);\r\n                if (keys.length) {\r\n                    for (let i = 0; i < keys.length; i++) {\r\n                        if (!retObj.hasOwnProperty(keys[i]))\r\n                            retObj[keys[i]] = {};\r\n                        if (Object.prototype.toString.call(obj[keys[i]]) === '[object Object]')\r\n                            this.objectDeepCopy(obj[keys[i]], retObj[keys[i]]);\r\n                        if (retObj[keys[i]] === '' || JSON.stringify(retObj[keys[i]]) !== '{}')\r\n                            continue;\r\n                        retObj[keys[i]] = obj[keys[i]];\r\n                    }\r\n                }\r\n                return retObj;\r\n            }\r\n\r\n            /**\r\n             * 创建弹出层外层盒子\r\n             * @since 1.0\r\n             */\r\n            createLayer() {\r\n                const _CONFIG_ = this.config.layer;\r\n                const _POSITION_ = {\r\n                    'LEFT': 'left: 0',\r\n                    'RIGHT': 'right: 0',\r\n                    'BOTTOM': 'bottom: 0',\r\n                    'CENTER': 'top: 50%; left: 50%; transform: translate(-50%, -50%);'\r\n                };\r\n\r\n                this.layer = document.createElement('div');\r\n                this.layer.classList.add('popups-layer-box');\r\n                this.layer.setAttribute('style', `${_POSITION_[_CONFIG_.position]}`);\r\n                for (let [key, value] of Object.entries(_CONFIG_.style)) {\r\n                    this.layer.style[key] = value;\r\n                }\r\n                this.popupsLayer.appendChild(this.layer);\r\n            }\r\n\r\n            /**\r\n             * 创建弹出层标题栏盒子\r\n             * @since 1.0\r\n             */\r\n            createTitle() {\r\n                const _CONFIG_ = this.config.title;\r\n                const title = document.createElement('div');\r\n                title.classList.add('popups-layer-title');\r\n                for (let [key, value] of Object.entries(_CONFIG_.style)) {\r\n                    title.style[key] = value;\r\n                }\r\n                if (_CONFIG_.hasOwnProperty('text'))\r\n                    title.innerText = _CONFIG_.text;\r\n                if (_CONFIG_.hasOwnProperty('template')) {\r\n                    title.innerHTML += _CONFIG_.template;\r\n                }\r\n                if (_CONFIG_.btnGroup.enable) {\r\n                    const that = this;\r\n                    const btnGroup = document.createElement('div');\r\n                    btnGroup.classList.add('popups-layer-btn-group');\r\n                    const logic = {\r\n                        close() {\r\n                            const icon = document.createElement('i');\r\n                            icon.classList.add('iconfont');\r\n                            icon.classList.add('icon-guanbi');\r\n                            btnGroup.appendChild(icon);\r\n                            icon.addEventListener('click', () => {\r\n                                that.close();\r\n                            });\r\n                        }\r\n                    };\r\n                    for (let [key, value] of Object.entries(_CONFIG_.btnGroup)) {\r\n                        if (Object.is(key, 'enable'))\r\n                            continue;\r\n                        if (value) {\r\n                            logic[key]();\r\n                        }\r\n                    }\r\n                    title.appendChild(btnGroup);\r\n                }\r\n                for (let [key, value] of Object.entries(_CONFIG_.style)) {\r\n                    // 绑定函数\r\n                    if (value) {\r\n                        const i = document.createElement('i');\r\n                        i.classList.add(key);\r\n                    }\r\n                }\r\n                if (_CONFIG_.draggable)\r\n                    this.dragLayer(title);\r\n                this.layer.appendChild(title);\r\n            }\r\n\r\n            /**\r\n             * 创建弹出层内容区盒子\r\n             * @version 1.0\r\n             * @since 1.0\r\n             */\r\n            createContent() {\r\n                const _CONFIG_ = this.config.content;\r\n                const content = document.createElement('div');\r\n                content.classList.add('popups-layer-content');\r\n                for (let [key, value] of Object.entries(_CONFIG_.style)) {\r\n                    content.style[key] = value;\r\n                }\r\n                const textBox = document.createElement('div');\r\n                textBox.classList.add('popups-layer-text');\r\n                if (_CONFIG_.hasOwnProperty('icon')) {\r\n                    const img = document.createElement('img');\r\n                    img.src = _CONFIG_.icon.src;\r\n                    img.style.cssFloat = _CONFIG_.icon.position.toLowerCase();\r\n                    textBox.appendChild(img);\r\n                }\r\n                if (_CONFIG_.hasOwnProperty('text')) {\r\n                    const p = document.createElement('p');\r\n                    p.innerText = _CONFIG_.text;\r\n                    textBox.appendChild(p);\r\n                }\r\n                if (_CONFIG_.hasOwnProperty('template')) {\r\n                    let temp = textBox.innerHTML;\r\n                    textBox.innerHTML = temp + _CONFIG_.template;\r\n                }\r\n                content.appendChild(textBox);\r\n                if (_CONFIG_.hasOwnProperty('btnGroup')) {\r\n                    const btnGroup = document.createElement('div');\r\n                    btnGroup.classList.add('btn-box');\r\n                    for (let [key, value] of Object.entries(_CONFIG_.btnGroup)) {\r\n                        const btn = document.createElement('button');\r\n                        btn.classList.add('btn');\r\n                        btn.setAttribute('id', key);\r\n                        if (value.text) {\r\n                            btn.innerText = value.text;\r\n                        }\r\n                        if (value.fn) {\r\n                            btn.addEventListener('click', value.fn);\r\n                        }\r\n                        if (value.theme) {\r\n                            btn.classList.add(value.theme);\r\n                        }\r\n                        btnGroup.appendChild(btn);\r\n                    }\r\n                    content.appendChild(btnGroup);\r\n                }\r\n                this.layer.appendChild(content);\r\n            }\r\n\r\n            /**\r\n             * 拖动窗口方法\r\n             * @param {HTMLElement} title - 标题元素\r\n             * @version 1.0\r\n             * @since 1.0\r\n             */\r\n            dragLayer(title) {\r\n                let isDrag = false;\r\n                title.style.cursor = 'all-scroll';\r\n                title.addEventListener('mousedown', (e) => {\r\n                    e.preventDefault();\r\n                    isDrag = true;\r\n                });\r\n                this.popupsLayer.addEventListener('mouseup', (e) => {\r\n                    e.preventDefault();\r\n                    isDrag = false;\r\n                });\r\n                this.popupsLayer.addEventListener('mousemove', (e) => {\r\n                    e.preventDefault();\r\n                    if (isDrag) {\r\n                        this.layer.style.left = `${this.layer.offsetLeft + e.movementX}px`;\r\n                        this.layer.style.top = `${this.layer.offsetTop + e.movementY}px`;\r\n                    }\r\n                });\r\n            }\r\n\r\n            /**\r\n             * 关闭弹出层方法\r\n             * @todo 允许关闭过渡动画\r\n             * @since 1.0\r\n             */\r\n            close() {\r\n                document.body.removeChild(this.popupsLayer);\r\n            }\r\n        }\r\n\r\n        this._ui = new UI({layer, title, content, after});\r\n    }\r\n\r\n    /**\r\n     * 关闭弹出层方法\r\n     * @todo 允许关闭过渡动画\r\n     * @since 1.0\r\n     */\r\n    close() {\r\n        this._ui.close();\r\n    }\r\n\r\n    /**\r\n     * 销毁UI对象\r\n     * @since 1.1.2\r\n     */\r\n    destroy() {\r\n        this._ui = null;\r\n    }\r\n}\r\n"],"file":"popupsLayer.js"}